%redefinition
\renewcommand{\frac}[2]{\dfrac{#1}{#2}} % Toujours de grandes fractions
\renewcommand{\tilde}[1]{\overset{\thicksim}{#1}} % Toujours un grand tilde
\newcommand{\tagit}{\addtocounter{equation}{1}\tag{\theequation}}
\newcommand{\ds}{\displaystyle}

\newcommand{\secref}[1]{(\S \ref{#1})}

\newcommand{\CSU}[2][{}]{\ensuremath{\operatorname{CSU}_{\operatorname{#2}}^{#1}}}

% Notation produit vectoriel
\newcommand{\pvect}{\wedge}

% Notation vectorielle
\newcommand{\comp}[1]{{\underline{#1}}} % {\overset{\rightarrow{}}{#1}}

%\newcommand{\vect}[1]{\vec{#1}}
\newcommand{\vect}[1]{{\overset{\rightarrow}{#1}}}

% Notation matricielle
\newcommand{\mat}[1]{\mathbf{#1}}

% Le conjugé
% \newcommand{\conj}[1]{{{#1}^*}}
\newcommand{\conj}[1]{{\overline{#1}}}

\newcommand{\ps}[2]{\left<{#1},{#2}\right>}
\newcommand{\norm}[1]{\left\lVert#1\right\rVert}
\newcommand{\abs}[1]{\left\vert#1\right\vert}
% Quelques matrices qui reviennent
\newcommand{\mI}{\mat{I}}
\newcommand{\mZ}{\mat{Z}}
\newcommand{\mA}{\mat{A}}
\newcommand{\mB}{\mat{B}}
\newcommand{\mPP}{\mat{P}}
\newcommand{\mC}{\mat{C}}
\newcommand{\mM}{\mat{M}}
\newcommand{\mJ}{\mat{J}}
\newcommand{\mj}{\mat{j}}
\newcommand{\mH}{\mat{H}}
\newcommand{\mh}{\mat{h}}
\newcommand{\mN}{\mat{N}}
\newcommand{\mMt}{\mat{\tilde{M}}}
\newcommand{\mNt}{\mat{\tilde{N}}}
\newcommand{\mLD}{\mat{L_D}}
\newcommand{\mLR}{\mat{L_R}}
\newcommand{\mL}{\mat{L}}
\newcommand{\mR}{\mat{R}}
\newcommand{\mT}{\mat{T}}
\newcommand{\mF}{\mat{F}}
%\newcommand{\mPt}{\mat{\tilde{P}}}
%\newcommand{\mP}{\mat{P}}
\newcommand{\mS}{\mat{S}}
\newcommand{\mSt}{\mat{\tilde{S}}}

% Matrices de Gramm de la base #1 vers #2
\newcommand{\mG}[2]{\mat{G}^{#1#2}}

% Matrices de passage de la base #1 vers #2 projeté sur #3
\newcommand{\mP}[3]{{\overset{#3}{\underset{#1 \rightarrow #2}{\mat{P}}}}}

% Opérateur pseudo diff
\newcommand{\Op}[2]{{\operatorname{Op}\left(#1\right)\left(#2\right)}}

\newcommand{\w}{\omega}

%mathematical symbol
\newcommand{\RR}{\mathbb R}
\newcommand{\CC}{\mathbb C}
\newcommand{\NN}{\mathbb N}
\newcommand{\ZZ}{\mathbb Z}
\newcommand{\eps}{\epsilon}
\newcommand{\dd}{\mathrm{d}}
\newcommand{\OO}{\Omega}

\newcommand{\ddp}[3][{}]{\dfrac{\mathrm{d}^{#1}#3}{{\mathrm{d}#2}^{#1}}}
\newcommand{\ddr}[3][{}]{\dfrac{\partial^{#1} #3}{{\partial #2}^{#1}}}

%Operator
\newcommand{\Sobup}[1][{}]{\mathrm{H}^\mathrm{#1}}
\newcommand{\Sobdw}[1][{}]{\mathrm{H}_\mathrm{#1}}
\newcommand{\Sobolev}[1][{}]{\Sobup[#1]}
\newcommand{\Hgrad}{\Sobdw[grad]}
\newcommand{\Hrot}{\Sobdw[rot]}
\newcommand{\Hdiv}{\Sobdw[div]}
\newcommand{\Hess}{\operatorname{Hess}}
\renewcommand{\Re}{\operatorname{Re}}
\renewcommand{\Im}{\operatorname{Im}}

\newcommand{\diag}[2]{\operatorname{diag}\left(#1,#2\right)}

\newcommand{\sign}[1]{{\operatorname{sign}\left(#1\right)}}
\newcommand{\argmin}[1]{{\underset{#1}{\operatorname{argmin}}}}
\newcommand{\Ker}{\operatorname{Ker}}
\newcommand{\Img}{\operatorname{Img}}
\newcommand{\Vect}[1]{\operatorname{Vect}\left\lbrace#1\right\rbrace}

\newcommand{\Tr}{\operatorname{T_R}}
\newcommand{\oI}{{\mathcal{I}}}
\newcommand{\LD}{{\mathcal{L}_D}}
\newcommand{\LL}{\mathcal{L}}
\newcommand{\LR}{{\mathcal{L}_R}}

\newcommand{\EFIE}{\operatorname{EFIE}}
\newcommand{\MFIE}{\operatorname{MFIE}}
\newcommand{\CFIE}{\operatorname{CFIE}}

%Maxwell notations
\newcommand{\vE}{\vect{E}}
\newcommand{\cH}{\mathcal{H}}
\newcommand{\vH}{\vect{\cH}}
\newcommand{\vn}{\vect{n}}
\newcommand{\vx}{\vect{x}}
\newcommand{\vz}{\vect{z}}
\newcommand{\vy}{\vect{y}}
\newcommand{\vk}{\vect{k}}
\newcommand{\vJ}{\vect{J}}
\newcommand{\vK}{\vect{K}}
\newcommand{\vM}{\vect{M}}
\newcommand{\vA}{\vect{A}}
\newcommand{\vu}{\vect{u}}
\newcommand{\vv}{\vect{v}}
\newcommand{\vw}{\vect{w}}

%differential operator
\newcommand{\vgrad}{\vect{\nabla}}
\newcommand{\vdiv}{\vect{\nabla}\cdot}
\newcommand{\vrot}{\vect{\nabla}\pvect}
\newcommand{\vhess}{\vect{\Hess}}

\newcommand{\tgrad}{{\vect{\operatorname{grad}}}}
\newcommand{\trot}{{\vect{\operatorname{rot}}}}
\newcommand{\tdiv}{{\operatorname{div}}}

\newcommand{\vgrads}{\vect{\nabla_s}}
\newcommand{\vdivs}{\vect{\nabla_s} \cdot}
\newcommand{\vrots}{\vect{\nabla_s} \pvect}
\newcommand{\rots}{{\nabla_s} \pvect}
\newcommand{\vhesss}{\vect{\Hess_s}}

\newcommand{\mhess}{\mat{\Hess}}
\newcommand{\mhesss}{\mat{\Hess}_s}

\newcommand{\tgrads}{{\vect{\operatorname{grad}}_s}}
\newcommand{\trots}{{{\operatorname{rot}}_s}}
\newcommand{\tvrots}{{\vect{\operatorname{rot}}_s}}
\newcommand{\tdivs}{{\operatorname{div}_s}}

\newcommand{\lapl}{\Delta}
\newcommand{\lapls}{\Delta_s}
\newcommand{\vlapl}{\vect{\Delta}}
\newcommand{\vlapls}{\vect{\Delta_s}}

% helmotlz
\newcommand{\rtp}{r,\theta,\phi}
\newcommand{\tp}{\theta,\phi}

\newcommand{\PP}{\mathbb{P}}
\newcommand{\Pmn}{\PP^m_n}

% cioe
\newcommand{\ov}[1]{\overline{#1}}

\newcommand{\x}{{x}}
\newcommand{\y}{{y}}
\newcommand{\z}{{z}}

\newcommand{\kO}{\mathbf{k_0}}
\newcommand{\etaO}{\boldsymbol{\eta_0}}
\newcommand{\muO}{\boldsymbol{\mu_0}}
\newcommand{\epsO}{\boldsymbol{\eps_0}}
\newcommand{\nuO}{\boldsymbol{\nu_0}}

%
\newcommand{\peps}{{\epsilon}}
\newcommand{\pmu}{{\mu}}

\newcommand{\phii}{\vect{\phi_i}}
\newcommand{\pii}{\vect{p_i}}
\newcommand{\phin}{\vect{\phi_n}}
\newcommand{\phim}{\vect{\phi_m}}
\newcommand{\pn}{\vect{p_n}}
\newcommand{\ppm}{\vect{p_m}}
\newcommand{\phip}{\vect{\phi_p}}
\newcommand{\phiq}{\vect{\phi_q}}
\newcommand{\pj}{\vect{p_j}}
\newcommand{\qj}{\vect{q_j}}
\newcommand{\qi}{\vect{q_i}}
\newcommand{\nuj}{\vect{\nu_j}}
\newcommand{\uj}{\vect{u_j}}
\newcommand{\phij}{\vect{\phi_j}}

\newcommand{\kk}{\tilde{k}}

%% avec référence dans la table des matières et les bons en-têtes
%% il sert pour l'introduction, la page de notations, etc
\newcommand{\chapterstar}[1]{%
  \chapter*{#1}%
  \addcontentsline{toc}{chapter}{#1}%
  %\markboth{#1}{#1}
  }
\newcommand{\sectionstar}[1]{%
  \section*{#1}%
  \addcontentsline{toc}{section}{#1}%
  %\markboth{#1}{#1}
  }

\newcommand{\Mmn}[1][{}]{\vect{M_{m,n}^{#1}}}
\newcommand{\Nmn}[1][{}]{\vect{N_{m,n}^{#1}}}
\newcommand{\Umn}[1][{}]{\vect{U_{m,n}^{#1}}}

\newcommand{\NaN}{\operatorname{NaN}}
\newcommand{\e}[1]{\mathrm{e}{#1}}

\newcommand{\fonction}[5]{
  \begin{aligned}
  &#1: & #2 &\rightarrow #3
  \\
  & & #4 & \mapsto #5
  \end{aligned}
}

\newenvironment{coefftable}[1]{%
  \begin{tabular}{lc}
  \multicolumn{2}{c}{#1}\\
  \hline
  \hline
}{
   \end{tabular}
}

% macro with argument filename
% \newcommand{\coefftable}[1]{%
%   \def\icoefffile{#1}\icoefftable
% }
\newcommand{\tablecoeff}[3][1]{%
 \begin{minipage}[t]{#1\textwidth}
    \centering
    \vspace{0pt}
    \begin{coefftable}{#2}
      \input{#3}
    \end{coefftable}
  \end{minipage}
}

\makeatletter
\DeclareRobustCommand{\textsupsub}[2]{{%
  \m@th\ensuremath{%
    ^{\mbox{\scriptsize#1}}%
    _{\mbox{\scriptsize#2}}%
  }%
}}
\makeatother
